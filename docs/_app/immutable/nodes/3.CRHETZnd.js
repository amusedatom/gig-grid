import{a as p,f as S,c as be}from"../chunks/HQn0m4cY.js";import{av as me,w as h,aw as pe,ag as he,ax as _e,h as ye,ay as we,p as ke,W as _,ac as Se,aq as $e,m as e,V as f,t as T,a as Ee,s as d,c as s,r as l,f as Ae}from"../chunks/uhL5HDDW.js";import{s as b}from"../chunks/OwqO_b7U.js";import{i as J}from"../chunks/CwPqkyY-.js";import{e as De,i as Ge}from"../chunks/C18CJW5A.js";import{r as K,a as P}from"../chunks/DxSuUEj6.js";import{d as Ie,a as k}from"../chunks/fv3uFk4v.js";import{b as X,g as Ne}from"../chunks/B7MqZ_l9.js";import{e as Re}from"../chunks/xXsLj-XM.js";function L(a,c,o=c){var u=new WeakSet;me(a,"input",async n=>{var r=n?a.defaultValue:a.value;if(r=O(a)?U(r):r,o(r),h!==null&&u.add(h),await pe(),r!==(r=c())){var i=a.selectionStart,g=a.selectionEnd,y=a.value.length;if(a.value=r??"",g!==null){var x=a.value.length;i===g&&g===y&&x>y?(a.selectionStart=x,a.selectionEnd=x):(a.selectionStart=i,a.selectionEnd=Math.min(g,x))}}}),(ye&&a.defaultValue!==a.value||he(c)==null&&a.value)&&(o(O(a)?U(a.value):a.value),h!==null&&u.add(h)),_e(()=>{var n=c();if(a===document.activeElement){var r=we??h;if(u.has(r))return}O(a)&&n===U(a.value)||a.type==="date"&&!n&&!a.value||n!==a.value&&(a.value=n??"")})}function O(a){var c=a.type;return c==="number"||c==="range"}function U(a){return a===""?null:+a}var ze=S('<p class="text-xs text-red-400"> </p>'),Ve=S('<p class="py-8 text-center text-sm text-gray-600">No songs added yet.</p>'),je=S('<div class="flex items-center justify-between rounded bg-gray-900 px-3 py-2 text-sm"><span class="truncate"> </span> <button class="ml-2 text-gray-500 hover:text-red-400" aria-label="Remove song">Ã—</button></div>'),Be=S('<div class="flex min-h-dvh flex-col items-center justify-center bg-gray-950 p-4 text-white"><div class="flex w-full max-w-md flex-col gap-6"><header class="flex items-center justify-between"><h1 class="bg-gradient-to-r from-fuchsia-400 to-purple-400 bg-clip-text text-2xl font-black italic tracking-tighter text-transparent">BUILDER</h1> <a class="text-xs font-bold text-gray-400 hover:text-white">BACK TO GAME</a></header> <div class="flex flex-col gap-4 rounded-xl border border-gray-800 bg-gray-900/50 p-6 shadow-2xl backdrop-blur-sm"><div class="grid grid-cols-2 gap-4"><div class="flex flex-col gap-2"><label for="size-input" class="text-xs font-bold text-gray-400"> </label> <input id="size-input" type="range" min="3" max="8" step="1" class="accent-fuchsia-500 cursor-pointer"/></div> <div class="flex flex-col gap-2"><label for="valid-input" class="text-xs font-bold text-gray-400"> </label> <input id="valid-input" type="range" min="1" step="1" class="accent-fuchsia-500 cursor-pointer"/></div></div> <div class="h-px bg-gray-800"></div> <div class="flex flex-col gap-2"><label for="song-input" class="text-sm font-bold text-gray-300"> </label> <div class="flex gap-2"><input id="song-input" type="text" placeholder="Artist - Song Name" class="flex-1 rounded-lg border border-gray-700 bg-gray-950 px-4 py-2 text-sm text-white placeholder-gray-500 focus:border-fuchsia-500 focus:outline-none focus:ring-1 focus:ring-fuchsia-500"/> <button class="rounded-lg bg-gray-800 px-4 py-2 text-sm font-bold hover:bg-gray-700">ADD</button></div> <!></div> <div class="flex max-h-64 flex-col gap-2 overflow-y-auto rounded-lg border border-gray-800 bg-gray-950/50 p-2"><!></div> <button class="mt-2 w-full rounded-lg bg-fuchsia-600 py-3 font-bold text-white shadow-lg shadow-fuchsia-900/20 transition-all hover:bg-fuchsia-500 hover:shadow-fuchsia-900/40 disabled:cursor-not-allowed disabled:bg-gray-800 disabled:text-gray-500 disabled:shadow-none">GENERATE GAME</button></div> <div class="text-center text-xs text-gray-600"><p> </p></div></div></div>');function Qe(a,c){ke(c,!0);let o=_(Se([])),u=_(""),n=_(null),r=_(5),i=_(25);$e(()=>{const t=e(r)*e(r);e(i)>t&&f(i,t)});function g(){const t=e(u).trim();if(t){if(e(o).includes(t)){f(n,"Song already added!");return}e(o).push(t),f(u,""),f(n,null)}}function y(t){f(o,e(o).filter((v,m)=>m!==t),!0)}function x(){if(e(o).length<e(i)){f(n,`Need at least ${e(i)} songs for a ${e(r)}x${e(r)} grid! (Currently: ${e(o).length})`);return}const t=Re(e(o));Ne(`${X}/share?m=custom&songs=${t}&sz=${e(r)}&v=${e(i)}`)}function Y(t){t.key==="Enter"&&(t.preventDefault(),g())}var $=Be(),W=s($),E=s(W),ee=d(s(E),2);l(E);var A=d(E,2),D=s(A),G=s(D),I=s(G),ae=s(I);l(I);var q=d(I,2);K(q),l(G);var Q=d(G,2),N=s(Q),te=s(N);l(N);var R=d(N,2);K(R),l(Q),l(D);var z=d(D,4),V=s(z),re=s(V);l(V);var j=d(V,2),w=s(j);K(w);var se=d(w,2);l(j);var le=d(j,2);{var oe=t=>{var v=ze(),m=s(v,!0);l(v),T(()=>b(m,e(n))),p(t,v)};J(le,t=>{e(n)&&t(oe)})}l(z);var B=d(z,2),ie=s(B);{var de=t=>{var v=Ve();p(t,v)},ne=t=>{var v=be(),m=Ae(v);De(m,17,()=>e(o),Ge,(ve,fe,ue)=>{var C=je(),M=s(C),ge=s(M,!0);l(M);var xe=d(M,2);l(C),T(()=>b(ge,e(fe))),k("click",xe,()=>y(ue)),p(ve,C)}),p(t,v)};J(ie,t=>{e(o).length===0?t(de):t(ne,!1)})}l(B);var Z=d(B,2);l(A);var F=d(A,2),H=s(F),ce=s(H);l(H),l(F),l(W),l($),T(()=>{P(ee,"href",`${X??""}/`),b(ae,`GRID SIZE: ${e(r)??""}x${e(r)??""}`),b(te,`VALID SQUARES: ${e(i)??""}`),P(R,"max",e(r)*e(r)),b(re,`ADD SONGS (${e(o).length??""})`),Z.disabled=e(o).length<e(i),b(ce,`Add at least ${e(i)??""} songs to generate a balanced ${e(r)??""}x${e(r)??""} grid.`)}),L(q,()=>e(r),t=>f(r,t)),L(R,()=>e(i),t=>f(i,t)),k("keydown",w,Y),L(w,()=>e(u),t=>f(u,t)),k("click",se,g),k("click",Z,x),p(a,$),Ee()}Ie(["keydown","click"]);export{Qe as component};
