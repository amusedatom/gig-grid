import{a as p,f as S,c as fe}from"../chunks/BWNrmzjx.js";import{aw as ue,w as h,ax as ge,ah as xe,ay as be,h as me,az as pe,p as he,W as _,ad as _e,ar as ye,m as e,V as f,t as M,a as we,s as n,c as s,r as l,f as ke}from"../chunks/BG_31CJQ.js";import{s as b}from"../chunks/BvMHAvl_.js";import{i as H}from"../chunks/Co_XF-K3.js";import{e as Se,i as Ee}from"../chunks/DYGGiEVP.js";import{r as T,a as $e}from"../chunks/DWDWGaZR.js";import{d as Ae,a as k}from"../chunks/0z89zZxP.js";import{g as De}from"../chunks/CpGkBRJo.js";import{e as Ge}from"../chunks/xXsLj-XM.js";function K(a,c,o=c){var u=new WeakSet;ue(a,"input",async d=>{var r=d?a.defaultValue:a.value;if(r=L(a)?O(r):r,o(r),h!==null&&u.add(h),await ge(),r!==(r=c())){var i=a.selectionStart,g=a.selectionEnd,y=a.value.length;if(a.value=r??"",g!==null){var x=a.value.length;i===g&&g===y&&x>y?(a.selectionStart=x,a.selectionEnd=x):(a.selectionStart=i,a.selectionEnd=Math.min(g,x))}}}),(me&&a.defaultValue!==a.value||xe(c)==null&&a.value)&&(o(L(a)?O(a.value):a.value),h!==null&&u.add(h)),be(()=>{var d=c();if(a===document.activeElement){var r=pe??h;if(u.has(r))return}L(a)&&d===O(a.value)||a.type==="date"&&!d&&!a.value||d!==a.value&&(a.value=d??"")})}function L(a){var c=a.type;return c==="number"||c==="range"}function O(a){return a===""?null:+a}var ze=S('<p class="text-xs text-red-400"> </p>'),Ie=S('<p class="py-8 text-center text-sm text-gray-600">No songs added yet.</p>'),Ne=S('<div class="flex items-center justify-between rounded bg-gray-900 px-3 py-2 text-sm"><span class="truncate"> </span> <button class="ml-2 text-gray-500 hover:text-red-400" aria-label="Remove song">Ã—</button></div>'),Re=S('<div class="flex min-h-dvh flex-col items-center justify-center bg-gray-950 p-4 text-white"><div class="flex w-full max-w-md flex-col gap-6"><header class="flex items-center justify-between"><h1 class="bg-gradient-to-r from-fuchsia-400 to-purple-400 bg-clip-text text-2xl font-black italic tracking-tighter text-transparent">BUILDER</h1> <a href="/" class="text-xs font-bold text-gray-400 hover:text-white">BACK TO GAME</a></header> <div class="flex flex-col gap-4 rounded-xl border border-gray-800 bg-gray-900/50 p-6 shadow-2xl backdrop-blur-sm"><div class="grid grid-cols-2 gap-4"><div class="flex flex-col gap-2"><label for="size-input" class="text-xs font-bold text-gray-400"> </label> <input id="size-input" type="range" min="3" max="8" step="1" class="accent-fuchsia-500 cursor-pointer"/></div> <div class="flex flex-col gap-2"><label for="valid-input" class="text-xs font-bold text-gray-400"> </label> <input id="valid-input" type="range" min="1" step="1" class="accent-fuchsia-500 cursor-pointer"/></div></div> <div class="h-px bg-gray-800"></div> <div class="flex flex-col gap-2"><label for="song-input" class="text-sm font-bold text-gray-300"> </label> <div class="flex gap-2"><input id="song-input" type="text" placeholder="Artist - Song Name" class="flex-1 rounded-lg border border-gray-700 bg-gray-950 px-4 py-2 text-sm text-white placeholder-gray-500 focus:border-fuchsia-500 focus:outline-none focus:ring-1 focus:ring-fuchsia-500"/> <button class="rounded-lg bg-gray-800 px-4 py-2 text-sm font-bold hover:bg-gray-700">ADD</button></div> <!></div> <div class="flex max-h-64 flex-col gap-2 overflow-y-auto rounded-lg border border-gray-800 bg-gray-950/50 p-2"><!></div> <button class="mt-2 w-full rounded-lg bg-fuchsia-600 py-3 font-bold text-white shadow-lg shadow-fuchsia-900/20 transition-all hover:bg-fuchsia-500 hover:shadow-fuchsia-900/40 disabled:cursor-not-allowed disabled:bg-gray-800 disabled:text-gray-500 disabled:shadow-none">GENERATE GAME</button></div> <div class="text-center text-xs text-gray-600"><p> </p></div></div></div>');function Ue(a,c){he(c,!0);let o=_(_e([])),u=_(""),d=_(null),r=_(5),i=_(25);ye(()=>{const t=e(r)*e(r);e(i)>t&&f(i,t)});function g(){const t=e(u).trim();if(t){if(e(o).includes(t)){f(d,"Song already added!");return}e(o).push(t),f(u,""),f(d,null)}}function y(t){f(o,e(o).filter((v,m)=>m!==t),!0)}function x(){if(e(o).length<e(i)){f(d,`Need at least ${e(i)} songs for a ${e(r)}x${e(r)} grid! (Currently: ${e(o).length})`);return}const t=Ge(e(o));De(`/share?m=custom&songs=${t}&sz=${e(r)}&v=${e(i)}`)}function J(t){t.key==="Enter"&&(t.preventDefault(),g())}var E=Re(),U=s(E),$=n(s(U),2),A=s($),D=s(A),G=s(D),P=s(G);l(G);var W=n(G,2);T(W),l(D);var Q=n(D,2),z=s(Q),X=s(z);l(z);var I=n(z,2);T(I),l(Q),l(A);var N=n(A,4),R=s(N),Y=s(R);l(R);var V=n(R,2),w=s(V);T(w);var ee=n(w,2);l(V);var ae=n(V,2);{var te=t=>{var v=ze(),m=s(v,!0);l(v),M(()=>b(m,e(d))),p(t,v)};H(ae,t=>{e(d)&&t(te)})}l(N);var j=n(N,2),re=s(j);{var se=t=>{var v=Ie();p(t,v)},le=t=>{var v=fe(),m=ke(v);Se(m,17,()=>e(o),Ee,(ie,de,ne)=>{var B=Ne(),C=s(B),ce=s(C,!0);l(C);var ve=n(C,2);l(B),M(()=>b(ce,e(de))),k("click",ve,()=>y(ne)),p(ie,B)}),p(t,v)};H(re,t=>{e(o).length===0?t(se):t(le,!1)})}l(j);var Z=n(j,2);l($);var q=n($,2),F=s(q),oe=s(F);l(F),l(q),l(U),l(E),M(()=>{b(P,`GRID SIZE: ${e(r)??""}x${e(r)??""}`),b(X,`VALID SQUARES: ${e(i)??""}`),$e(I,"max",e(r)*e(r)),b(Y,`ADD SONGS (${e(o).length??""})`),Z.disabled=e(o).length<e(i),b(oe,`Add at least ${e(i)??""} songs to generate a balanced ${e(r)??""}x${e(r)??""} grid.`)}),K(W,()=>e(r),t=>f(r,t)),K(I,()=>e(i),t=>f(i,t)),k("keydown",w,J),K(w,()=>e(u),t=>f(u,t)),k("click",ee,g),k("click",Z,x),p(a,E),we()}Ae(["keydown","click"]);export{Ue as component};
